<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Halo dari Bulan</title>
<link href="https://fonts.googleapis.com/css2?family=Outfit:wght@400;600;700&display=swap" rel="stylesheet">
<style>
*{margin:0;padding:0;box-sizing:border-box;font-family:"Outfit",sans-serif;}
html,body{
  height:100%;
  width:100%;
  background:linear-gradient(160deg,#3b0764,#6d28d9,#7e22ce);
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:center;
  color:#f5f3ff;
  overflow:hidden;
  text-align:center;
}
.avatar-container{
  display:flex;
  flex-direction:column;
  align-items:center;
  gap:10px;
}
.avatar-container img{
  width:120px;
  height:120px;
  border-radius:50%;
  border:3px solid #fff;
  box-shadow:0 5px 15px rgba(0,0,0,0.3);
  object-fit:cover;
  opacity:0;
  transform:translateY(20px);
  transition: all 0.4s ease-out;
}
.avatar-container img.show{
  opacity:1;
  transform:translateY(0);
}
.name-tag{
  font-weight:600;
  font-size:1rem;
  color:#fff;
  text-shadow:0 0 5px rgba(0,0,0,0.3);
  opacity:0;
  transform:translateY(10px);
  transition: all 0.4s ease-out;
}
.name-tag.show{
  opacity:1;
  transform:translateY(0);
}
.chat-bubble{
  background:rgba(255,255,255,0.1);
  backdrop-filter: blur(10px);
  color:#fff;
  padding:14px 20px;
  border-radius:20px;
  max-width:90%;
  width:340px;
  font-size:1rem;
  box-shadow:0 5px 10px rgba(0,0,0,0.2);
  text-align:center;
  position:relative;
  opacity:0;
  transition: opacity 0.3s ease-in-out;
  overflow-y:auto;
}
.chat-bubble.show{opacity:1;}
#chatText{display:block;word-wrap: break-word;}
#continueBtn{
  margin-top:25px;
  padding:10px 24px;
  font-size:1rem;
  font-weight:600;
  color:#fff;
  background:rgba(255,255,255,0.2);
  border:1px solid rgba(255,255,255,0.3);
  border-radius:14px;
  cursor:pointer;
  box-shadow:0 0 10px rgba(255,255,255,0.15);
  backdrop-filter: blur(10px);
  transform: scale(0);
  opacity:0;
  transition: all 0.3s ease-out;
}
#continueBtn.show{
  transform: scale(1);
  opacity:1;
  animation: pulseClick 1.2s infinite;
}
#continueBtn:hover{
  background:rgba(255,255,255,0.35);
  transform: scale(1.15);
}
@keyframes pulseClick{0%,100% {transform: scale(1);}50% {transform: scale(1.08);}}
.fadeOut{opacity:0 !important;transition: opacity 0.5s ease-out;}
#pullRefresh{
  position:absolute;
  top:10px;
  width:40px;
  height:40px;
  border:4px solid rgba(255,255,255,0.3);
  border-top-color:#fff;
  border-radius:50%;
  animation: spin 1s linear infinite;
  display:none;
  z-index:999;
}
@keyframes spin{0%{transform:rotate(0deg);}100%{transform:rotate(360deg);}}
</style>
</head>
<body>

<div id="pullRefresh"></div>

<div class="avatar-container">
  <img src="https://i.imgur.com/nQNpS3C.gif" alt="Avatar Bulan" id="avatarImg">
  <div class="name-tag" id="nameTag">Bulan</div>
  <div class="chat-bubble" id="chatBubble">
    <span id="chatText"></span>
  </div>
  <button id="continueBtn">Kembali</button>
</div>

<script>
const avatar = document.getElementById("avatarImg");
const nameTag = document.getElementById("nameTag");
const chatBubble = document.getElementById("chatBubble");
const chatText = document.getElementById("chatText");
const continueBtn = document.getElementById("continueBtn");
const pull = document.getElementById("pullRefresh");

// 50 template kalimat random
const messages = [
"Halo, maaf ya. Untuk saat ini kami belum membuka pendaftaran member/artis baru",
];

function typeWriter(text,i=0){
  if(i<text.length){
    chatText.innerHTML += text.charAt(i);
    setTimeout(()=>typeWriter(text,i+1),30);
  }else{
    continueBtn.classList.add("show");
  }
}

function initPage(){
  avatar.classList.remove("fadeOut");
  nameTag.classList.remove("fadeOut");
  chatBubble.classList.remove("fadeOut");
  continueBtn.classList.remove("fadeOut");
  avatar.classList.add("show");
  nameTag.classList.add("show");
  chatBubble.classList.add("show");
  chatText.innerHTML = "";
  typeWriter(messages[Math.floor(Math.random()*messages.length)]);
}

window.addEventListener("load", initPage);
window.addEventListener("pageshow", e=>{ if(e.persisted){ initPage(); } });

continueBtn.addEventListener("click", ()=>{
  avatar.classList.add("fadeOut");
  nameTag.classList.add("fadeOut");
  chatBubble.classList.add("fadeOut");
  continueBtn.classList.add("fadeOut");
  setTimeout(()=> window.location.href="index.html",500);
});

// Pull-to-refresh
let startY=0,isPull=false;
document.addEventListener("touchstart", e=>{startY=e.touches[0].clientY;});
document.addEventListener("touchmove", e=>{
  let diff=e.touches[0].clientY-startY;
  if(diff>50){pull.style.display="block";isPull=true;}
});
document.addEventListener("touchend", e=>{
  if(isPull){location.reload();}
  pull.style.display="none";
  isPull=false;
});
</script>

</body>
</html>
