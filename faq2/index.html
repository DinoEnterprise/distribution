<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Bulan - Dynotic Music AI</title>
<link href="https://fonts.googleapis.com/css2?family=Outfit:wght@400;600;700&display=swap" rel="stylesheet">
<style>
/* Gunakan style yang sama seperti kode kamu sebelumnya */
*{margin:0;padding:0;box-sizing:border-box;font-family:"Outfit",sans-serif;}
html,body{height:100%;display:flex;flex-direction:column;color:#f5f3ff;background:radial-gradient(circle at 20% 30%, rgba(130,60,255,0.08), transparent 65%),radial-gradient(circle at 80% 70%, rgba(150,70,255,0.06), transparent 70%), #000;overflow-x:hidden;}
header{display:flex;align-items:center;justify-content:space-between;padding:12px 15px;background:rgba(0,0,0,0.25);backdrop-filter:blur(10px);border-radius:0 0 15px 15px;z-index:10;}
header img{width:50px;height:50px;border-radius:50%;object-fit:cover;border:2px solid #fff;}
header .info{flex:1;margin-left:10px;}
header .info .name{font-weight:600;font-size:1rem;color:#fff;text-shadow:0 0 8px #fff,0 0 12px #fff;}
header .info .status{font-size:0.8rem;color:#fff;text-shadow:0 0 6px #fff;}
header .actions{display:flex;align-items:center;gap:8px;position:relative;}
header .actions .icon-btn{background:transparent;border:none;cursor:pointer;padding:5px;position:relative;}
header .actions .icon-btn img{width:28px;height:28px;filter: drop-shadow(0 0 6px #fff);}
.chat-container{flex:1;background:rgba(255,255,255,0.05);backdrop-filter:blur(5px);padding:15px;margin:10px;border-radius:15px;overflow-y:auto;display:flex;flex-direction:column;gap:8px;position:relative;border:1px solid rgba(255,255,255,0.2);}
.chat-bubble{max-width:70%;padding:10px 14px;border-radius:20px;font-size:0.95rem;word-wrap:break-word;display:flex;gap:8px;align-items:flex-end;line-height:1.4rem;}
.bulan{background:rgba(255,255,255,0.15);backdrop-filter:blur(5px);color:#fff;border-top-left-radius:0;justify-content:flex-start;}
.user{background:#2563eb;color:#fff;align-self:flex-end;border-top-right-radius:0;justify-content:flex-end;}
#inputArea{display:flex;gap:10px;padding:10px;border-top:1px solid rgba(255,255,255,0.3);}
#inputArea input{flex:1;padding:8px 12px;border-radius:15px;border:none;outline:none;font-size:0.95rem;}
#inputArea button{padding:8px 12px;border-radius:12px;background:#2563eb;color:#fff;border:none;cursor:pointer;}
</style>
</head>
<body>

<header>
<img src="https://i.imgur.com/nQNpS3C.gif" alt="Bulan Avatar">
<div class="info">
  <div class="name">Bulan</div>
  <div class="status">Online</div>
</div>
<div class="actions"></div>
</header>

<div class="chat-container" id="chatContainer"></div>

<div id="inputArea">
  <input type="text" id="userInput" placeholder="Tanya sesuatu...">
  <button onclick="sendMessage()">Kirim</button>
</div>

<script>
const chatContainer = document.getElementById('chatContainer');

function addBubble(message,type){
  const bubble = document.createElement('div');
  bubble.classList.add('chat-bubble',type);
  bubble.innerText = message;
  chatContainer.appendChild(bubble);
  chatContainer.scrollTop = chatContainer.scrollHeight;
}

// Pesan awal
window.addEventListener('DOMContentLoaded', ()=>{
  addBubble("Halo! Aku Bulan, asisten AI Dynotic Music. Mau tahu info apa hari ini?", 'bulan');
});

async function sendMessage(){
  const input = document.getElementById('userInput');
  const msg = input.value.trim();
  if(!msg) return;
  addBubble(msg,'user');
  input.value = '';
  
  // Kirim ke backend Replit (ubah URL sesuai Replit kamu)
  try{
    const res = await fetch('https://REPLIT_BACKEND_URL/chat',{
      method:'POST',
      headers:{'Content-Type':'application/json'},
      body: JSON.stringify({message:msg})
    });
    const data = await res.json();
    addBubble(data.reply,'bulan');
  }catch(err){
    addBubble("Maaf, server AI sedang error. Coba lagi nanti.","bulan");
  }
}
</script>

</body>
</html>
