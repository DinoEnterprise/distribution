<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>DynoPay ‚Äì Login</title>

<link href="https://fonts.googleapis.com/css2?family=Outfit:wght@400;600;700&display=swap" rel="stylesheet">

<style>
*{box-sizing:border-box;font-family:'Outfit',sans-serif}

body{
 margin:0;
 min-height:100vh;
 display:flex;
 justify-content:center;
 align-items:center;
 background:linear-gradient(135deg,#667eea,#764ba2);
 overflow:hidden;
}

/* CARD */
.container{
 width:90%;
 max-width:360px;
 background:#fff;
 border-radius:20px;
 padding:28px 22px;
 text-align:center;
 box-shadow:0 15px 30px rgba(0,0,0,.18);
 animation:enter .6s ease;
 position:relative;
}

@keyframes enter{
 from{opacity:0;transform:translateY(40px)}
 to{opacity:1;transform:none}
}

/* LOGO */
.logo{
 width:70px;
 margin-bottom:14px;
}

/* TITLE */
h2{
 margin:0 0 18px;
 font-size:22px;
 font-weight:700;
 color:#222;
}

/* INPUT WRAP */
.field{
 position:relative;
 margin-bottom:12px;
}

input{
 width:100%;
 padding:13px 44px 13px 14px;
 border-radius:12px;
 border:1px solid #ddd;
 font-size:14px;
 outline:none;
 transition:.25s;
}

input:focus{
 border-color:#667eea;
 box-shadow:0 0 0 3px rgba(102,126,234,.2);
}

/* SHOW PASS */
.toggle{
 position:absolute;
 right:12px;
 top:50%;
 transform:translateY(-50%);
 cursor:pointer;
 font-size:14px;
 opacity:.6;
}

/* BUTTON */
button{
 width:100%;
 padding:14px;
 border:none;
 border-radius:14px;
 font-size:15px;
 font-weight:700;
 color:#fff;
 background:linear-gradient(90deg,#667eea,#764ba2);
 cursor:pointer;
 transition:.3s;
}

button:active{transform:scale(.96)}

/* ERROR */
#error{
 margin-top:10px;
 font-size:13px;
 color:#e53e3e;
 min-height:18px;
}

/* LOADER */
.loader{
 position:fixed;
 inset:0;
 background:rgba(255,255,255,.9);
 display:flex;
 align-items:center;
 justify-content:center;
 font-weight:700;
 font-size:16px;
 color:#667eea;
 opacity:0;
 pointer-events:none;
 transition:.3s;
}

.loader.active{
 opacity:1;
 pointer-events:auto;
}

/* EXIT ANIMATION */
.fade-out{
 animation:exit .5s ease forwards;
}
@keyframes exit{
 to{opacity:0;transform:scale(.95)}
}

/* MOBILE FIX */
@media(max-width:380px){
 .container{padding:24px 18px}
}
</style>
</head>

<body>

<div class="container" id="card">
  <img src="/assets/dyno2.png" class="logo" alt="DynoPay">

  <h2>Login DynoPay</h2>

  <div class="field">
    <input id="email" type="email" placeholder="Email">
  </div>

  <div class="field">
    <input id="pass" type="password" placeholder="Password">
    <div class="toggle" onclick="togglePass()">üëÅ</div>
  </div>

  <button onclick="login()">Masuk</button>
  <div id="error"></div>
</div>

<div class="loader" id="loader">Masuk ke DynoPay‚Ä¶</div>

<!-- FIREBASE -->
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>

<script>
firebase.initializeApp({
  apiKey: "AIzaSyB9MY2lUOPzzoMUlhu1WHv4a6gwFk9PTsY",
  authDomain: "dynopay-1c22b.firebaseapp.com"
});

/* SHOW / HIDE PASSWORD */
function togglePass(){
 const p = document.getElementById("pass");
 p.type = p.type === "password" ? "text" : "password";
}

/* LOGIN */
function login(){
 const email = emailEl().value.trim();
 const pass  = passEl().value.trim();
 const error = document.getElementById("error");

 if(!email || !pass){
   error.textContent = "Email dan password wajib diisi";
   return;
 }

 firebase.auth().signInWithEmailAndPassword(email, pass)
 .then(()=>{
   document.getElementById("loader").classList.add("active");
   document.getElementById("card").classList.add("fade-out");
   setTimeout(()=>{
     window.location.href="../dynopay";
   },600);
 })
 .catch(()=>{
   error.textContent="Email atau password salah";
 });
}

const emailEl=()=>document.getElementById("email");
const passEl =()=>document.getElementById("pass");
</script>

</body>
</html>
