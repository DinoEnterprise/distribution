function register(){
  const fullname = document.getElementById("fullname").value.trim();
  const email = document.getElementById("email").value.trim();
  const password = document.getElementById("password").value.trim();
  const youtube = document.getElementById("youtube").value.trim();
  const instagram = document.getElementById("instagram").value.trim();
  const errorEl = document.getElementById("error");

  errorEl.textContent = "";

  // Reset semua input border
const inputs = [ "fullname", "email", "password", "youtube", "instagram" ];
inputs.forEach(id => {
  document.getElementById(id).style.border = "1px solid #ddd"; // default
});

// Validasi semua field wajib diisi
let hasError = false;
inputs.forEach(id => {
  const val = document.getElementById(id).value.trim();
  if (!val) {
    document.getElementById(id).style.border = "2px solid #e53e3e"; // merah
    hasError = true;
  }
});
if (hasError) {
  errorEl.textContent = "Please fill in all required fields";
  return;
}

// Validasi link YouTube
if(!isValidURL(youtube, "youtube")) {
  document.getElementById("youtube").style.border = "2px solid #e53e3e";
  errorEl.textContent = "Please enter a valid YouTube URL";
  return;
}

// Validasi link Instagram
if(!isValidURL(instagram, "instagram")) {
  document.getElementById("instagram").style.border = "2px solid #e53e3e";
  errorEl.textContent = "Please enter a valid Instagram URL";
  return;
}
  const data = {
    fullname, email, password, youtube, instagram,
    timestamp: new Date().toISOString()
  };

  document.getElementById("loader").classList.add("active");
fetch("https://dynotic-bot.dynotic-bot.workers.dev/", {
  method: "POST",
  headers: { "Content-Type": "application/json" },
  body: JSON.stringify({ fullname, email, password, youtube, instagram })
})
.then(res => res.json())
.then(data => {
  document.getElementById("loader").classList.remove("active");
  if (data.success) {
    showToast("Registration sent! Please wait for manual approval.");
    // Reset fields
    inputs.forEach(id => document.getElementById(id).value = "");
  } else {
    errorEl.textContent = "Failed to send registration. Try again.";
  }
})
.catch(err => {
  document.getElementById("loader").classList.remove("active");
  errorEl.textContent = "Failed to send registration. Try again.";
  console.error(err);
});
}
</script>

</body>
</html>
