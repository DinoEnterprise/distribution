<!DOCTYPE html>  
<html lang="id">  
<head>  
<meta charset="UTF-8">  
<meta name="viewport" content="width=device-width, initial-scale=1.0">  
<title>Cover to Master - Status</title>  
<link href="https://fonts.googleapis.com/css2?family=Outfit:wght@400;600;700&display=swap" rel="stylesheet">  

<style>
* {
  margin:0;
  padding:0;
  box-sizing:border-box;
  font-family:"Outfit",sans-serif;
}
html, body {
  min-height:100vh;
  width:100%;
  display:flex;
  flex-direction:column;
  align-items:center;
  color:#f5f3ff;
  background:
    radial-gradient(circle at 20% 30%, rgba(130,60,255,0.08), transparent 65%),
    radial-gradient(circle at 80% 70%, rgba(150,70,255,0.06), transparent 70%),
    #000;
  background-size:cover;
  background-repeat:no-repeat;
  background-attachment:fixed;
  padding-top:70px;
  overflow-x:hidden;
}

/* FADE-IN GLOBAL */
.fade-in {
  opacity:0;
  transform:translateY(15px);
  animation:fadeInUp 0.6s ease forwards;
}
@keyframes fadeInUp {
  to {
    opacity:1;
    transform:translateY(0);
  }
}

/* HEADER */
header {
  position:fixed;
  top:0;
  left:0;
  width:100%;
  background:#0d0d0d;
  border-bottom:1px solid rgba(255,255,255,0.1);
  padding:12px 5%;
  z-index:100;
  display:flex;
  align-items:center;
  justify-content:center;
  font-size:clamp(1.8rem,4vw,2.5rem);
  font-weight:700;
}

/* MENU BUTTON */
.menu-btn {
  position:absolute;
  right:5%;
  width:28px;
  height:22px;
  cursor:pointer;
  display:flex;
  flex-direction:column;
  justify-content:space-between;
  transition:0.3s;
}
.menu-btn div {
  width:100%;
  height:3px;
  background:#fff;
  border-radius:4px;
  transition:all 0.3s ease;
}
.menu-btn.active div:nth-child(1) {
  transform:rotate(45deg) translateY(9px);
  background:#a14ff0;
}
.menu-btn.active div:nth-child(2) {
  opacity:0;
}
.menu-btn.active div:nth-child(3) {
  transform:rotate(-45deg) translateY(-9px);
  background:#a14ff0;
}

/* MENU DROPDOWN */
.menu {
  position:fixed;
  top:65px;
  right:25px;
  backdrop-filter:blur(10px);
  background:rgba(20,20,20,0.7);
  border:1px solid rgba(255,255,255,0.1);
  border-radius:14px;
  display:none;
  flex-direction:column;
  width:220px;
  z-index:200;
  box-shadow:0 8px 25px rgba(161,79,240,0.25);
  opacity:0;
  transform:translateY(-10px);
  transition:all 0.3s ease;
}
.menu.show {
  display:flex;
  opacity:1;
  transform:translateY(0);
}
.menu a {
  color:#fff;
  text-decoration:none;
  padding:14px 18px;
  border-bottom:1px solid rgba(255,255,255,0.08);
  transition:all 0.25s;
}
.menu a:last-child { border-bottom:none; }
.menu a:hover {
  background:rgba(161,79,240,0.2);
  padding-left:22px;
}

/* FILTER */
.filter-wrapper {
  width:95%;
  max-width:1200px;
  display:flex;
  justify-content:flex-start;
  align-items:center;
  margin:10px auto;
}
.filter-box {
  display:flex;
  gap:12px;
  flex-wrap:wrap;
  justify-content:flex-start;
}
.filter-box input, .filter-box select {
  padding:10px 14px;
  border-radius:10px;
  border:1px solid rgba(255,255,255,0.25);
  background:rgba(255,255,255,0.05);
  color:#fff;
  font-size:1rem;
  outline:none;
}
.filter-box select option { color:#000; }

/* TABLE */
.table-wrapper {
  width:95%;
  max-width:1200px;
  margin:0 auto;
  display:flex;
  flex-direction:column;
}
.table-scroll { overflow-x:auto; }
table {
  width:100%;
  border-collapse:collapse;
  min-width:600px;
}
th, td {
  padding:14px 10px;
  border:1px solid rgba(255,255,255,0.8);
  text-align:center;
  background:rgba(0,0,0,0.2);
  color:#fff;
}
th {
  background:rgba(0,0,0,0.4);
  font-weight:700;
}
tr:hover td {
  background:rgba(255,255,255,0.05);
}

/* STATUS COLORS + GLOW */
.status-approve {
  color: #4dff4d;
  font-weight: 700;
  text-shadow: 0 0 10px rgba(77, 255, 77, 0.9);
}
.status-rejected {
  color: #ff4d4d;
  font-weight: 700;
  text-shadow: 0 0 10px rgba(255, 77, 77, 0.9);
}
.status-pending {
  color: #ffae42;
  font-weight: 700;
  text-shadow: 0 0 10px rgba(255, 174, 66, 0.9);
}

/* NO RESULT */
.no-result {
  text-align:center;
  margin-top:15px;
  color:#f0a;
  display:none;
}

/* PAGINATION */
.pagination {
  display:flex;
  justify-content:center;
  gap:12px;
  margin-top:10px;
  flex-wrap:wrap;
}
.pagination button {
  cursor:pointer;
  padding:8px 18px;
  border-radius:12px;
  background:rgba(255,255,255,0.1);
  color:#fff;
  font-weight:600;
  border:1px solid rgba(255,255,255,0.25);
  transition:all 0.25s ease;
}
.pagination button:hover {
  background:rgba(255,255,255,0.3);
  transform:scale(1.05);
}
.pagination button:disabled {
  opacity:0.4;
  cursor:not-allowed;
  background:rgba(255,255,255,0.05);
}

/* FOOTER */
footer {
  padding:12px 10px;
  font-size:0.85rem;
  color:rgba(255,255,255,0.6);
  text-align:center;
}

/* RESPONSIVE */
@media (max-width:992px){
  th,td{font-size:0.9rem;padding:10px 6px;}
  .filter-box input,.filter-box select{font-size:0.9rem;padding:8px 10px;}
  .pagination button{padding:6px 12px;font-size:0.85rem;}
}
@media (max-width:576px){
  th,td{font-size:0.8rem;padding:8px 4px;}
}
</style>

</head>
<body>

<header class="fade-in" style="animation-delay:0.1s;">
  CTM Status
  <div class="menu-btn" id="menuBtn">
    <div></div>
    <div></div>
    <div></div>
  </div>
</header>

<div class="menu" id="menu">
  <a href="https://forms.gle/FLYtEe2vX3ExkRMn6" target="_blank">Buat Rilis Baru</a>
  <a href="catalog.html">Katalog</a>
  <a href="https://forms.gle/fwwBcau8e4TK2d767" target="_blank">Ajukan Izin Lagu</a>
</div>

<div class="filter-wrapper fade-in" style="animation-delay:0.2s;">
  <div class="filter-box">
    <input type="text" id="searchInput" placeholder="Cari ID, Nama Artis, Lagu...">
    <select id="statusFilter">
      <option value="">Semua Status</option>
      <option value="Pending">Pending</option>
      <option value="Approve">Approve</option>
      <option value="Rejected">Rejected</option>
    </select>
  </div>
</div>

<div class="table-wrapper fade-in" style="animation-delay:0.3s;">
  <div class="table-scroll">
    <table>
      <thead>
        <tr>
          <th>ID</th>
          <th>Nama Artis</th>
          <th>Lagu</th>
          <th>Publisher</th>
          <th>Status</th>
        </tr>
      </thead>
      <tbody id="transactionList"></tbody>
    </table>
  </div>

  <p class="no-result" id="noResult">Data tidak ditemukan.</p>

  <div class="pagination">
    <button id="prevBtn">Previous</button>
    <button id="nextBtn">Next</button>
  </div>
</div>

<footer class="fade-in" style="animation-delay:0.4s;">Â© 2025 Dynotic Distribution</footer>

<script>
const menuBtn = document.getElementById('menuBtn');
const menu = document.getElementById('menu');
menuBtn.addEventListener('click',()=>{
  menu.classList.toggle('show');
  menuBtn.classList.toggle('active');
});
document.addEventListener('click',(e)=>{
  if(!menu.contains(e.target) && e.target!==menuBtn && !menuBtn.contains(e.target)){
    menu.classList.remove('show');
    menuBtn.classList.remove('active');
  }
});

const itemsPerPage = 10;
let currentPage = 1;
let transactions = [];
let filteredTransactions = [];

const transactionList = document.getElementById('transactionList');
const searchInput = document.getElementById('searchInput');
const statusFilter = document.getElementById('statusFilter');
const noResult = document.getElementById('noResult');
const prevBtn = document.getElementById('prevBtn');
const nextBtn = document.getElementById('nextBtn');

async function loadData(){
  try{
    const response = await fetch('artis.json');
    const rawData = await response.json();

    transactions = rawData.map(item => ({
      id: item["ID"] || "-",
      artist: item["Nama Artis"] || "-",
      song: item["Judul Lagu"] || "-",
      publisher: item["Publisher"] || "-",
      status: item["Status"] || item["Status "] || "-"
    })).reverse();

    filteredTransactions = [...transactions];
    renderTransactions();

  }catch(err){
    console.error("Gagal load artis.json", err);
  }
}

function getStatusClass(status){
  switch(status){
    case "Approve": return "status-approve";
    case "Rejected": return "status-rejected";
    case "Pending": return "status-pending";
    default: return "";
  }
}

function renderTransactions(){
  transactionList.innerHTML='';
  const start=(currentPage-1)*itemsPerPage;
  const end=start+itemsPerPage;
  const pageItems=filteredTransactions.slice(start,end);
  noResult.style.display=pageItems.length===0?'block':'none';

  pageItems.forEach((t,i)=>{
    const tr=document.createElement('tr');
    tr.classList.add('fade-in');
    tr.style.animationDelay = (0.35 + i*0.05)+'s';

    tr.innerHTML = `
      <td>${t.id}</td>
      <td>${t.artist}</td>
      <td>${t.song}</td>
      <td>${t.publisher}</td>
      <td class="${getStatusClass(t.status)}">${t.status}</td>
    `;

    transactionList.appendChild(tr);
  });

  prevBtn.disabled=currentPage===1;
  nextBtn.disabled=currentPage>=Math.ceil(filteredTransactions.length/itemsPerPage);
}

function applyFilters(){
  const query=searchInput.value.toLowerCase();
  const statusVal=statusFilter.value;

  filteredTransactions=transactions.filter(t=>{
    const matchesSearch =
      t.id.toLowerCase().includes(query) ||
      t.artist.toLowerCase().includes(query) ||
      t.song.toLowerCase().includes(query) ||
      t.publisher.toLowerCase().includes(query);

    const matchesStatus = statusVal ? t.status === statusVal : true;

    return matchesSearch && matchesStatus;
  });

  currentPage=1;
  renderTransactions();
}

searchInput.addEventListener('input',applyFilters);
statusFilter.addEventListener('change',applyFilters);

prevBtn.addEventListener('click',()=>{
  if(currentPage>1){
    currentPage--;
    renderTransactions();
  }
});

nextBtn.addEventListener('click',()=>{
  if(currentPage<Math.ceil(filteredTransactions.length/itemsPerPage)){
    currentPage++;
    renderTransactions();
  }
});

loadData();
</script>

</body>
</html>
